<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>PI Adapter for BACnet principles of operation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="PI Adapter for BACnet principles of operation ">
    <meta name="generator" content="docfx 2.56.5.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="../../V1/index.html" width="46">
                <img id="logo" src="../../V1/main/V1/images/atlas_icon.png" height="46" width="46" alt="OSIsoft Edge System"> 
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="PIAdapterforBACnetPrinciplesOfOperation">
<h1 id="pi-adapter-for-bacnet-principles-of-operation">PI Adapter for BACnet principles of operation</h1>

<p>The BACnet adapter&#39;s operations focus on data collection and streams creation.</p>
<h2 id="adapter-configuration">Adapter configuration</h2>
<p>For the BACnet adapter to start data collection, you need to configure the adapter by defining the following:</p>
<ul>
<li>Data source: Provide the data source from which the adapter should collect data.</li>
<li>Data selection: Select BACnet items to which the adapter should request data or subscribe for data.</li>
<li>Logging: Set up the logging attributes to manage the adapter logging behavior.</li>
</ul>
<p>For more information, see <a class="xref" href="../Configuration/pi-adapter-for-bacnet-data-source-configuration.html">PI Adapter for BACnet data source configuration</a>, <a class="xref" href="../Configuration/pi-adapter-for-bacnet-data-selection-configuration.html">PI Adapter for BACnet data selection configuration</a>, and <a class="xref" href="../main/V1/Configuration/logging-configuration.html">Logging configuration</a>.</p>
<h2 id="data-collection">Data collection</h2>
<p>The BACnet adapter collects time-series data from selected objects on BACnet devices. The adapter supports both polling and COV (Change of Value, unsolicited subscription) data collection modes, as defined by the BACnet specification.</p>
<h3 id="object-types-and-data-types">Object types and data types</h3>
<p>The following table lists BACnet object types that the BACnet adapter supports for data collection and types of streams that will be created.</p>
<table>
<thead>
<tr>
<th>BACnet object type</th>
<th>Stream data type</th>
</tr>
</thead>
<tbody>
<tr>
<td>Accumulator</td>
<td><code>UInt32</code></td>
</tr>
<tr>
<td>AnalogInput</td>
<td><code>Single</code></td>
</tr>
<tr>
<td>AnalogOutput</td>
<td><code>Single</code></td>
</tr>
<tr>
<td>AnalogValue</td>
<td><code>Single</code></td>
</tr>
<tr>
<td>BinaryInput</td>
<td><code>Boolean</code></td>
</tr>
<tr>
<td>BinaryOutput</td>
<td><code>Boolean</code></td>
</tr>
<tr>
<td>BinaryValue</td>
<td><code>Boolean</code></td>
</tr>
<tr>
<td>MultistateInput</td>
<td><code>UInt32</code></td>
</tr>
<tr>
<td>MultistateOutput</td>
<td><code>UInt32</code></td>
</tr>
<tr>
<td>MultistateValue</td>
<td><code>UInt32</code></td>
</tr>
</tbody>
</table>
<h2 id="stream-creation">Stream creation</h2>
<p>The BACnet adapter creates a stream with two properties for a selected BACnet item. The properties are described in the following table:</p>
<table>
<thead>
<tr>
<th>Property name</th>
<th>Data type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Timestamp</code></td>
<td>DateTime</td>
<td>Timestamp of the given BACnet item value update.</td>
</tr>
<tr>
<td><code>Value</code></td>
<td>Specified on the type of incoming BACnet value</td>
<td>Value of the BACnet item update.</td>
</tr>
</tbody>
</table>
<p><strong>Note:</strong> If streams are deleted from an endpoint while the adapter is running, the adapter process must be restarted in order for the streams to be recreated.</p>
<p>Certain metadata are sent with each stream created.
The following metadata are common for every adapter type:</p>
<ul>
<li><strong>ComponentId</strong>: Specifies the data source, for example, <em>BACnet1</em> </li>
<li><strong>ComponentType</strong>: Specifies the type of adapter, for example, <em>BACnet</em></li>
</ul>
<p>Metadata specific to the BACnet adapter:</p>
<ul>
<li><strong>Device</strong>: The Device ID of the BACnet device</li>
<li><strong>SourceId</strong>: SourceId is constructed using the following pattern: {DeviceId}.{ObjectType}{ObjectId}.{PropertyIdentifier}</li>
<li><strong>LocalName</strong>: The BACnet ObjectName as provided by the BACnet object</li>
</ul>
<p>The metadata level is set in <a class="xref" href="../main/V1/Configuration/general-configuration.html">General configuration</a>. For the BAcnet adapter, the following metadata is sent for the individual level:</p>
<ul>
<li><code>None</code>: No metadata</li>
<li><code>Low</code>: AdapterType (<em>ComponentType</em>) and DataSource (<em>ComponentId</em>)</li>
<li><code>Medium</code>: AdapterType (<em>ComponentType</em>), DataSource (<em>ComponentId</em>), and Schedule (ScheduleId)</li>
<li><code>High</code>: AdapterType (ComponentType), DataSource (ComponentId), Schedule (ScheduleId), Device, SourceId and LocalName</li>
</ul>
<p><strong>Note:</strong> If a <code>ScheduleId</code> is not specified when configuring data selection items (see <a class="xref" href="../Configuration/pi-adapter-for-bacnet-data-selection-configuration.html">PI Adapter for BACnet data selection configuration</a>), metadata will not be sent for the associated streams until the <code>ScheduleId</code> is specified and the adapter process is restarted.</p>
<p>Each stream created for a given BACnet item has a unique identifier (stream ID). If you specify a custom stream ID for the BACnet item in data selection configuration, the adapter uses that stream ID to create the stream. Otherwise, the adapter constructs the stream ID with the following format constructed from the BACnet item node ID:</p>
<pre><code class="lang-code">&lt;Adapter Component ID&gt;.&lt;Device ID&gt;.&lt;Object Type&gt;&lt;Object ID&gt;.&lt;Property Identifier&gt;
</code></pre><p><strong>Note:</strong> The naming convention is affected by <code>StreamIdPrefix</code> and <code>DefaultStreamIdPattern</code> settings in data source configuration. For more information, see <a class="xref" href="../Configuration/pi-adapter-for-bacnet-data-source-configuration.html">PI Adapter for BACnet data source configuration</a>.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/osisoft/PI-Adapter-BACnet-Docs/blob/master/V1/PI-Adapter-for-BACnet-overview/pi-adapter-for-bacnet-principles-of-operation.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span><a href="https://www.osisoft.com/copyright/">© 2019 - 2021 OSIsoft, LLC. All rights reserved.</a></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
